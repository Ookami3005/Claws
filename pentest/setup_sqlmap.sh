#!/usr/bin/bash

setup_sqlmap () {

    # Limpiamos (si existe) la instalación de sqlmap del repositorio
    sudo nala purge sqlmap 2> /dev/null

    # Creamos (si no existe la carpeta ~/bin)
    mkdir -p "${HOME}/.local"
    mkdir -p "${HOME}/.local/bin"

    # Clonamos el repositorio oficial de sqlmap a nuestra carpeta de binarios
    git clone --depth 1 https://github.com/sqlmapproject/sqlmap.git "${HOME}/.local/bin/sqlmap-dev"
    clear

    # Creamos un enlace simbólico del ejecutable principal del reposiorio a una ubicación del PATH (/usr/bin)
    sudo ln -sv "${HOME}/.local/bin/sqlmap-dev/sqlmap.py" /usr/local/bin/sqlmap

    echo -e "SQLMAP configurado!\n"

}

